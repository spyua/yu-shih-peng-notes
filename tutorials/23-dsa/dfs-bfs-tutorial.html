<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DFS / BFS çµ±ä¸€æ¡†æ¶åœ–è§£</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #0a0e17;
    --surface: #121828;
    --surface2: #1a2235;
    --border: #2a3550;
    --text: #e2e8f0;
    --text-dim: #8892a8;
    --accent-blue: #60a5fa;
    --accent-cyan: #22d3ee;
    --accent-green: #34d399;
    --accent-orange: #fb923c;
    --accent-pink: #f472b6;
    --accent-purple: #a78bfa;
    --accent-red: #f87171;
  }
  * { margin:0; padding:0; box-sizing:border-box; }
  body {
    background: var(--bg);
    color: var(--text);
    font-family: 'Noto Sans TC', sans-serif;
    line-height: 1.7;
    overflow-x: hidden;
  }
  .container { max-width:960px; margin:0 auto; padding:40px 24px 80px; }

  /* HERO */
  .hero { text-align:center; padding:60px 0 40px; position:relative; }
  .hero::before {
    content:''; position:absolute; top:-60px; left:50%; transform:translateX(-50%);
    width:600px; height:600px;
    background:radial-gradient(circle, rgba(96,165,250,0.08) 0%, transparent 70%);
    pointer-events:none;
  }
  .hero .tag {
    display:inline-block; font-family:'JetBrains Mono',monospace; font-size:13px;
    color:var(--accent-cyan); border:1px solid rgba(34,211,238,0.3);
    padding:4px 14px; border-radius:20px; margin-bottom:20px; letter-spacing:1px;
  }
  .hero h1 {
    font-size:clamp(36px,6vw,56px); font-weight:900; line-height:1.2;
    background:linear-gradient(135deg,var(--accent-blue),var(--accent-cyan),var(--accent-green));
    -webkit-background-clip:text; -webkit-text-fill-color:transparent;
  }
  .hero .subtitle { font-size:18px; color:var(--text-dim); margin-top:16px; font-weight:300; }
  .hero .subtitle strong { color:var(--accent-orange); font-weight:500; }

  /* SECTION */
  .section { margin-top:56px; }
  .section-label {
    font-family:'JetBrains Mono',monospace; font-size:12px; color:var(--accent-purple);
    text-transform:uppercase; letter-spacing:2px; margin-bottom:8px;
  }
  .section h2 { font-size:28px; font-weight:700; margin-bottom:20px; color:#fff; }
  .section h2 .emoji { margin-right:8px; }

  code {
    font-family:'JetBrains Mono',monospace; background:rgba(96,165,250,0.1);
    color:var(--accent-blue); padding:2px 6px; border-radius:4px; font-size:13px;
  }

  /* STEPS GRID */
  .steps-grid { display:grid; grid-template-columns:1fr 1fr; gap:16px; }
  @media(max-width:600px){ .steps-grid{grid-template-columns:1fr;} }
  .step-card {
    background:var(--surface); border:1px solid var(--border); border-radius:14px;
    padding:24px; position:relative; overflow:hidden; transition:transform 0.2s,border-color 0.3s;
  }
  .step-card:hover { transform:translateY(-2px); border-color:rgba(96,165,250,0.5); }
  .step-num {
    position:absolute; top:-8px; right:-4px; font-family:'JetBrains Mono',monospace;
    font-size:72px; font-weight:700; color:rgba(96,165,250,0.06); line-height:1;
  }
  .step-icon { font-size:28px; margin-bottom:10px; }
  .step-card h4 { font-size:16px; font-weight:700; color:var(--accent-cyan); margin-bottom:6px; }
  .step-card p { font-size:14px; color:var(--text-dim); line-height:1.6; }

  /* VS */
  .vs-container { display:grid; grid-template-columns:1fr auto 1fr; gap:0; align-items:stretch; }
  @media(max-width:600px){ .vs-container{grid-template-columns:1fr;gap:12px;} .vs-divider{display:none;} }
  .vs-box {
    background:var(--surface); border:1px solid var(--border); border-radius:16px;
    padding:28px; text-align:center; transition:border-color 0.3s;
  }
  .vs-box.dfs:hover { border-color:var(--accent-orange); }
  .vs-box.bfs:hover { border-color:var(--accent-cyan); }
  .vs-box .label { font-family:'JetBrains Mono',monospace; font-size:28px; font-weight:700; margin-bottom:6px; }
  .vs-box.dfs .label { color:var(--accent-orange); }
  .vs-box.bfs .label { color:var(--accent-cyan); }
  .vs-box .metaphor { font-size:40px; margin:12px 0; }
  .vs-box .desc { font-size:15px; color:var(--text-dim); margin-bottom:12px; }
  .vs-box .desc strong { color:var(--text); font-weight:500; }
  .vs-box .container-tag {
    display:inline-block; font-family:'JetBrains Mono',monospace; font-size:14px;
    padding:6px 16px; border-radius:8px; font-weight:600;
  }
  .vs-box.dfs .container-tag { background:rgba(251,146,60,0.12); color:var(--accent-orange); border:1px solid rgba(251,146,60,0.3); }
  .vs-box.bfs .container-tag { background:rgba(34,211,238,0.1); color:var(--accent-cyan); border:1px solid rgba(34,211,238,0.3); }
  .vs-divider { display:flex; align-items:center; justify-content:center; padding:0 16px; }
  .vs-text { font-family:'JetBrains Mono',monospace; font-size:20px; font-weight:700; color:var(--text-dim); }

  /* TEMPLATE */
  .template-flow { display:flex; gap:0; align-items:center; justify-content:center; flex-wrap:wrap; margin:24px 0; }
  .template-block { text-align:center; padding:18px 24px; border-radius:14px; min-width:140px; }
  .template-block .t-icon { font-size:32px; margin-bottom:6px; }
  .template-block .t-name { font-family:'JetBrains Mono',monospace; font-size:18px; font-weight:700; margin-bottom:4px; }
  .template-block .t-desc { font-size:13px; color:var(--text-dim); }
  .tb-scan { background:rgba(96,165,250,0.08); border:1px solid rgba(96,165,250,0.2); }
  .tb-scan .t-name { color:var(--accent-blue); }
  .tb-traverse { background:rgba(52,211,153,0.08); border:1px solid rgba(52,211,153,0.2); }
  .tb-traverse .t-name { color:var(--accent-green); }
  .tb-mark { background:rgba(244,114,182,0.08); border:1px solid rgba(244,114,182,0.2); }
  .tb-mark .t-name { color:var(--accent-pink); }
  .template-arrow { font-size:24px; color:var(--text-dim); padding:0 8px; }
  .mark-soul {
    margin-top:12px; text-align:center; padding:12px 20px;
    background:rgba(244,114,182,0.06); border:1px dashed rgba(244,114,182,0.3);
    border-radius:10px; font-size:14px; color:var(--accent-pink); font-weight:500;
  }

  /* ===== INTERACTIVE GRID ===== */
  .demo-wrapper {
    background:var(--surface); border:1px solid var(--border);
    border-radius:16px; padding:32px; margin-top:20px;
  }
  .demo-top-label {
    text-align:center; font-size:13px; color:var(--text-dim);
    font-family:'JetBrains Mono',monospace; margin-bottom:16px;
  }
  .demo-grid-row { display:flex; gap:8px; justify-content:center; margin-bottom:8px; }
  .demo-cell {
    width:72px; height:72px; border-radius:12px; display:flex; flex-direction:column;
    align-items:center; justify-content:center; font-family:'JetBrains Mono',monospace;
    transition:all 0.4s cubic-bezier(0.4,0,0.2,1); position:relative;
  }
  .demo-cell.land { background:var(--surface2); border:2px solid var(--border); color:var(--text-dim); }
  .demo-cell.wall { background:rgba(10,14,23,0.8); border:2px solid rgba(42,53,80,0.3); color:rgba(136,146,168,0.2); }
  .demo-cell .coord { font-size:11px; opacity:0.5; }
  .demo-cell .val { font-size:18px; font-weight:700; }
  .demo-cell .order-badge {
    position:absolute; top:-10px; right:-10px; width:24px; height:24px;
    border-radius:50%; font-size:12px; font-weight:700; display:flex;
    align-items:center; justify-content:center;
    opacity:0; transform:scale(0); transition:all 0.3s cubic-bezier(0.34,1.56,0.64,1);
  }
  .demo-cell .order-badge.show { opacity:1; transform:scale(1); }

  /* DFS states */
  .demo-cell.visited-dfs {
    background:rgba(251,146,60,0.15); border-color:var(--accent-orange);
    color:var(--accent-orange); box-shadow:0 0 20px rgba(251,146,60,0.15);
  }
  .demo-cell.current-dfs {
    background:rgba(251,146,60,0.35); border-color:var(--accent-orange);
    color:#fff; box-shadow:0 0 30px rgba(251,146,60,0.35); transform:scale(1.1);
  }

  /* BFS states - layer colors */
  .demo-cell.visited-bfs { border-color:var(--accent-cyan); box-shadow:0 0 20px rgba(34,211,238,0.12); }
  .demo-cell.bfs-layer-0 { background:rgba(34,211,238,0.25); color:#fff; }
  .demo-cell.bfs-layer-1 { background:rgba(96,165,250,0.22); color:var(--accent-blue); }
  .demo-cell.bfs-layer-2 { background:rgba(167,139,250,0.2); color:var(--accent-purple); border-color:var(--accent-purple); box-shadow:0 0 20px rgba(167,139,250,0.12); }
  .demo-cell.bfs-layer-3 { background:rgba(244,114,182,0.18); color:var(--accent-pink); border-color:var(--accent-pink); box-shadow:0 0 20px rgba(244,114,182,0.12); }
  .demo-cell.current-bfs { transform:scale(1.1); }

  /* Controls */
  .demo-controls { display:flex; justify-content:center; align-items:center; gap:12px; margin-top:24px; flex-wrap:wrap; }
  .demo-btn {
    font-family:'JetBrains Mono',monospace; font-size:14px; font-weight:600;
    padding:10px 24px; border-radius:10px; border:none; cursor:pointer; transition:all 0.2s;
    display:flex; align-items:center; gap:6px;
  }
  .demo-btn:hover { transform:translateY(-1px); }
  .demo-btn:active { transform:translateY(0); }
  .demo-btn.dfs-btn { background:rgba(251,146,60,0.15); color:var(--accent-orange); border:1px solid rgba(251,146,60,0.4); }
  .demo-btn.dfs-btn:hover { background:rgba(251,146,60,0.25); }
  .demo-btn.bfs-btn { background:rgba(34,211,238,0.1); color:var(--accent-cyan); border:1px solid rgba(34,211,238,0.4); }
  .demo-btn.bfs-btn:hover { background:rgba(34,211,238,0.2); }
  .demo-btn.reset-btn { background:rgba(136,146,168,0.1); color:var(--text-dim); border:1px solid rgba(136,146,168,0.3); }
  .demo-btn.reset-btn:hover { background:rgba(136,146,168,0.2); }

  .step-info { text-align:center; margin-top:20px; min-height:90px; }
  .step-counter { font-family:'JetBrains Mono',monospace; font-size:13px; color:var(--text-dim); margin-bottom:8px; }
  .step-description { font-size:15px; color:var(--text); line-height:1.6; }
  .step-description strong.dfs-hl { color:var(--accent-orange); }
  .step-description strong.bfs-hl { color:var(--accent-cyan); }
  .step-path {
    font-family:'JetBrains Mono',monospace; font-size:14px; margin-top:8px;
    padding:8px 16px; border-radius:8px; display:inline-block;
  }
  .step-path.dfs-path { background:rgba(251,146,60,0.08); color:var(--accent-orange); border:1px solid rgba(251,146,60,0.2); }
  .step-path.bfs-path { background:rgba(34,211,238,0.06); color:var(--accent-cyan); border:1px solid rgba(34,211,238,0.2); }

  .bfs-legend { display:flex; justify-content:center; gap:16px; margin-top:12px; flex-wrap:wrap; }
  .bfs-legend-item { display:flex; align-items:center; gap:6px; font-size:12px; font-family:'JetBrains Mono',monospace; color:var(--text-dim); }
  .bfs-legend-dot { width:12px; height:12px; border-radius:4px; }
  .bfs-legend-dot.l0 { background:rgba(34,211,238,0.5); }
  .bfs-legend-dot.l1 { background:rgba(96,165,250,0.45); }
  .bfs-legend-dot.l2 { background:rgba(167,139,250,0.45); }
  .bfs-legend-dot.l3 { background:rgba(244,114,182,0.4); }

  .demo-summary {
    text-align:center; margin-top:16px; font-size:14px; color:var(--text-dim);
    padding:14px 18px; border-radius:10px; line-height:1.8;
  }
  .demo-summary.dfs-summary { background:rgba(251,146,60,0.04); border:1px dashed rgba(251,146,60,0.2); }
  .demo-summary.bfs-summary { background:rgba(34,211,238,0.04); border:1px dashed rgba(34,211,238,0.2); }

  /* USE CARDS */
  .use-grid { display:grid; grid-template-columns:1fr 1fr; gap:16px; }
  @media(max-width:600px){ .use-grid{grid-template-columns:1fr;} }
  .use-card { background:var(--surface); border-radius:14px; padding:24px; border:1px solid var(--border); }
  .use-card h4 { font-family:'JetBrains Mono',monospace; font-size:16px; margin-bottom:14px; display:flex; align-items:center; gap:8px; }
  .use-card.for-dfs h4 { color:var(--accent-orange); }
  .use-card.for-bfs h4 { color:var(--accent-cyan); }
  .use-item { display:flex; align-items:flex-start; gap:10px; margin-bottom:10px; font-size:14px; color:var(--text-dim); line-height:1.5; }
  .use-item .dot { width:6px; height:6px; border-radius:50%; flex-shrink:0; margin-top:7px; }
  .for-dfs .dot { background:var(--accent-orange); }
  .for-bfs .dot { background:var(--accent-cyan); }
  .shortcut-box {
    margin-top:16px; text-align:center; padding:16px 24px;
    background:linear-gradient(135deg,rgba(96,165,250,0.06),rgba(34,211,238,0.06));
    border:1px solid rgba(96,165,250,0.2); border-radius:12px; font-size:15px; color:var(--text);
  }
  .shortcut-box strong { color:var(--accent-cyan); }

  /* INSIGHT */
  .insight-box {
    margin-top:56px; padding:32px;
    background:linear-gradient(135deg,rgba(251,146,60,0.04),rgba(96,165,250,0.04));
    border:1px solid rgba(251,146,60,0.2); border-radius:16px; position:relative; overflow:hidden;
  }
  .insight-box::before { content:'ğŸ’¡'; position:absolute; top:-20px; right:20px; font-size:80px; opacity:0.06; }
  .insight-box h3 { font-size:18px; color:var(--accent-orange); margin-bottom:12px; }
  .insight-wrong,.insight-right { padding:14px 18px; border-radius:10px; margin-bottom:10px; font-size:15px; }
  .insight-wrong { background:rgba(248,113,113,0.06); border-left:3px solid var(--accent-red); color:var(--text-dim); }
  .insight-wrong .x { color:var(--accent-red); margin-right:6px; font-weight:700; }
  .insight-right { background:rgba(52,211,153,0.06); border-left:3px solid var(--accent-green); color:var(--text); }
  .insight-right .check { color:var(--accent-green); margin-right:6px; font-weight:700; }
  .engine-text { margin-top:14px; font-size:14px; color:var(--text-dim); line-height:1.7; }
  .engine-text strong { color:var(--accent-cyan); }

  /* MENTAL */
  .mental-grid { display:grid; grid-template-columns:1fr 1fr; gap:14px; }
  @media(max-width:600px){ .mental-grid{grid-template-columns:1fr;} }
  .mental-card {
    background:var(--surface); border:1px solid var(--border); border-radius:14px;
    padding:20px; display:flex; align-items:flex-start; gap:14px; transition:border-color 0.3s;
  }
  .mental-card:hover { border-color:rgba(167,139,250,0.4); }
  .mental-num { font-family:'JetBrains Mono',monospace; font-size:24px; font-weight:700; color:var(--accent-purple); flex-shrink:0; width:36px; text-align:center; }
  .mental-card .q { font-size:15px; color:#fff; font-weight:500; margin-bottom:4px; }
  .mental-card .hint { font-size:13px; color:var(--text-dim); }
  .mental-card .hint code { background:rgba(167,139,250,0.1); color:var(--accent-purple); }

  /* QUIZ */
  .quiz-section { margin-top:56px; }
  .quiz-card {
    background:var(--surface); border:1px solid var(--border); border-radius:14px;
    padding:24px; margin-bottom:14px; display:flex; align-items:flex-start; gap:16px;
  }
  .quiz-num {
    font-family:'JetBrains Mono',monospace; font-size:14px; font-weight:700; color:var(--bg);
    background:var(--accent-green); width:28px; height:28px; border-radius:50%;
    display:flex; align-items:center; justify-content:center; flex-shrink:0;
  }
  .quiz-card p { font-size:15px; color:var(--text); line-height:1.6; }

  /* CODE SECTION */
  .code-section { margin-top:56px; }
  .code-tabs {
    display:flex; gap:0; margin-bottom:0; position:relative; z-index:1;
  }
  .code-tab {
    font-family:'JetBrains Mono',monospace; font-size:14px; font-weight:600;
    padding:12px 28px; border:1px solid var(--border); border-bottom:none;
    border-radius:12px 12px 0 0; cursor:pointer; transition:all 0.2s;
    background:var(--surface2); color:var(--text-dim);
  }
  .code-tab:hover { color:var(--text); }
  .code-tab.active-dfs { background:var(--surface); color:var(--accent-orange); border-color:rgba(251,146,60,0.3); }
  .code-tab.active-bfs { background:var(--surface); color:var(--accent-cyan); border-color:rgba(34,211,238,0.3); }
  .code-panel {
    display:none; background:var(--surface); border:1px solid var(--border);
    border-radius:0 12px 12px 12px; padding:0; overflow:hidden;
  }
  .code-panel.active { display:block; }
  .code-panel.dfs-active { border-color:rgba(251,146,60,0.2); }
  .code-panel.bfs-active { border-color:rgba(34,211,238,0.2); }
  .code-header {
    display:flex; justify-content:space-between; align-items:center;
    padding:14px 20px; border-bottom:1px solid var(--border);
  }
  .code-header .file-name {
    font-family:'JetBrains Mono',monospace; font-size:13px; color:var(--text-dim);
    display:flex; align-items:center; gap:6px;
  }
  .code-header .file-dot { width:8px; height:8px; border-radius:50%; }
  .code-header .file-dot.dfs-dot { background:var(--accent-orange); }
  .code-header .file-dot.bfs-dot { background:var(--accent-cyan); }
  .code-header .lang-badge {
    font-family:'JetBrains Mono',monospace; font-size:11px; font-weight:600;
    padding:3px 10px; border-radius:6px; letter-spacing:0.5px;
  }
  .lang-badge.java { background:rgba(251,146,60,0.1); color:var(--accent-orange); }
  .code-body {
    padding:20px; overflow-x:auto; counter-reset:line;
  }
  .code-body pre {
    font-family:'JetBrains Mono',monospace; font-size:13px; line-height:1.8;
    color:var(--text); margin:0; white-space:pre;
  }
  /* Syntax colors */
  .kw { color:#c792ea; }        /* keyword: class, void, if, for, new, return, boolean, int, char */
  .tp { color:#ffcb6b; }        /* type: Queue, LinkedList, char[][] */
  .fn { color:#82aaff; }        /* function name */
  .cm { color:#546e7a; font-style:italic; }  /* comment */
  .st { color:#c3e88d; }        /* string */
  .nu { color:#f78c6c; }        /* number */
  .op { color:#89ddff; }        /* operator: =, ==, <, >, &&, ||, +, -, ! */
  .an { color:#f07178; }        /* annotation or important */
  .code-comment-line {
    display:block; padding:8px 0 4px;
    color:var(--accent-green); font-weight:600; font-size:13px;
  }
  .code-note {
    padding:14px 20px; border-top:1px solid var(--border);
    font-size:13px; color:var(--text-dim); line-height:1.6;
    background:rgba(0,0,0,0.15);
  }
  .code-note strong { font-weight:600; }
  .code-note strong.dfs-n { color:var(--accent-orange); }
  .code-note strong.bfs-n { color:var(--accent-cyan); }
  .code-callout {
    display:inline-block; background:rgba(96,165,250,0.1); color:var(--accent-blue);
    font-family:'JetBrains Mono',monospace; font-size:12px; padding:2px 8px;
    border-radius:4px; margin-left:4px;
  }

  .footer {
    text-align:center; margin-top:64px; padding-top:24px;
    border-top:1px solid var(--border); color:var(--text-dim); font-size:13px;
  }

  @media(max-width:480px){
    .demo-cell { width:60px; height:60px; }
    .demo-cell .val { font-size:16px; }
  }
  .back-btn { position: fixed; top: 20px; left: 20px; z-index: 9999; background: var(--surface); border: 1px solid var(--border); color: var(--text-dim); padding: 10px 20px; font-size: 0.9rem; cursor: pointer; transition: all 0.3s; text-decoration: none; display: inline-flex; align-items: center; gap: 8px; font-family: inherit; border-radius: 8px; }
  .back-btn:hover { background: var(--text); color: var(--bg); border-color: var(--text); }
</style>
</head>
<body>
    <a href="../../index.html" class="back-btn">â† è¿”å›é¦–é </a>
<div class="container">

  <!-- HERO -->
  <div class="hero">
    <div class="tag">ALGORITHM CHEAT SHEET</div>
    <h1>DFS / BFS<br>çµ±ä¸€æ¡†æ¶åœ–è§£</h1>
    <p class="subtitle">æŠŠ DFS å’Œ BFS ç•¶æˆ<strong>åŒä¸€å€‹å¼•æ“ï¼Œåªæ˜¯æ›å®¹å™¨</strong></p>
  </div>

  <!-- SECTION 1 -->
  <div class="section">
    <div class="section-label">Core Concept</div>
    <h2><span class="emoji">ğŸ§­</span>å…ˆæŠŠå®ƒå€‘ç•¶æˆã€Œèµ°è¿·å®®ã€</h2>
    <p style="color:var(--text-dim);margin-bottom:20px;font-size:15px;">
      DFS å’Œ BFS æœ¬è³ªæ˜¯åŒä¸€ä»¶äº‹ï¼š<strong style="color:var(--text)">æŠŠã€Œå¯åˆ°é”çš„é»ã€èµ°ä¸€é</strong>ï¼Œå·®åˆ¥åªæ˜¯èµ°çš„é †åºã€‚ä¸ç®¡ç”¨å“ªä¸€ç¨®ï¼Œä½ æ°¸é éƒ½åœ¨åšåŒæ¨£å››ä»¶äº‹ï¼š
    </p>
    <div class="steps-grid">
      <div class="step-card"><div class="step-num">01</div><div class="step-icon">ğŸš©</div><h4>èµ·é»å¾å“ªä¾†ï¼Ÿ</h4><p>æƒåˆ° <code>'1'</code>ã€queue åˆå§‹ã€æˆ–é¡Œç›®çµ¦ä½  start node</p></div>
      <div class="step-card"><div class="step-num">02</div><div class="step-icon">ğŸ”—</div><h4>é„°å±…æ€éº¼æ‰¾ï¼Ÿ</h4><p>ä¸Šä¸‹å·¦å³ã€åœ–çš„ adjacency listã€æˆ–è½‰æ›è¦å‰‡</p></div>
      <div class="step-card"><div class="step-num">03</div><div class="step-icon">âœ…</div><h4>ä»€éº¼ç®—è¨ªå•éï¼Ÿ</h4><p><code>visited</code> é™£åˆ—ã€æ”¹æˆ <code>'0'</code>ã€æˆ–ç”¨ Set è¨˜éŒ„</p></div>
      <div class="step-card"><div class="step-num">04</div><div class="step-icon">ğŸ›‘</div><h4>ä½•æ™‚åœæ­¢ï¼Ÿ</h4><p>è¶Šç•Œã€é‡åˆ°ç‰†ã€ä¸æ˜¯ç›®æ¨™ã€å·² visited</p></div>
    </div>
  </div>

  <!-- SECTION 2 -->
  <div class="section">
    <div class="section-label">DFS vs BFS</div>
    <h2><span class="emoji">âš”ï¸</span>å·®åˆ¥åªåœ¨ã€Œå®¹å™¨ã€</h2>
    <div class="vs-container">
      <div class="vs-box dfs">
        <div class="label">DFS</div><div class="metaphor">ğŸƒâ€â™‚ï¸ğŸ’¨</div>
        <div class="desc"><strong>ä¸€è·¯é‘½åˆ°åº•</strong><br>åƒåœ¨è¿·å®®ä¸€ç›´å¾€å‰è¡<br>æ’ç‰†æ‰å›é ­</div>
        <div class="container-tag">Stackï¼ˆæˆ–éè¿´ï¼‰</div>
      </div>
      <div class="vs-divider"><div class="vs-text">VS</div></div>
      <div class="vs-box bfs">
        <div class="label">BFS</div><div class="metaphor">ğŸŒŠ</div>
        <div class="desc"><strong>ä¸€åœˆä¸€åœˆæ“´æ•£</strong><br>åƒæ°´æ³¢ç´‹å¾€å¤–æ¨<br>é›¢èµ·é»è¿‘çš„å…ˆè™•ç†</div>
        <div class="container-tag">Queue</div>
      </div>
    </div>
  </div>

  <!-- SECTION 3 -->
  <div class="section">
    <div class="section-label">Universal Template</div>
    <h2><span class="emoji">ğŸ§©</span>èƒŒèµ·ä¾†çš„é€šç”¨æ¨¡æ¿</h2>
    <div style="text-align:center;margin-bottom:8px;">
      <span style="font-family:'JetBrains Mono',monospace;font-size:14px;color:var(--text-dim);">Graph/Grid Traversal =</span>
    </div>
    <div class="template-flow">
      <div class="template-block tb-scan"><div class="t-icon">ğŸ”</div><div class="t-name">Scan</div><div class="t-desc">æ‰¾æ–°çš„èµ·é»<br>çœ‹åˆ° '1' â†’ count++</div></div>
      <div class="template-arrow">â†’</div>
      <div class="template-block tb-traverse"><div class="t-icon">ğŸš¶</div><div class="t-name">Traverse</div><div class="t-desc">DFS æˆ– BFS<br>æŠŠé€£é€šå¡Šèµ°å®Œ</div></div>
      <div class="template-arrow">â†’</div>
      <div class="template-block tb-mark"><div class="t-icon">ğŸ¨</div><div class="t-name">Mark</div><div class="t-desc">é˜²æ­¢é‡è¤‡èµ°<br>visited = true</div></div>
    </div>
    <div class="mark-soul">âš ï¸ Mark æ˜¯éˆé­‚ â€” æ²’æœ‰ Mark å°±ä¸€å®šé‡è¤‡æˆ–æ­»å¾ªç’°</div>
  </div>

  <!-- SECTION 4: INTERACTIVE DEMO -->
  <div class="section">
    <div class="section-label">Interactive Demo</div>
    <h2><span class="emoji">ğŸ—ºï¸</span>åŒä¸€å¼µåœ–ï¼Œå…©ç¨®èµ°æ³•</h2>
    <p style="color:var(--text-dim);margin-bottom:8px;font-size:14px;">
      3Ã—3 ç’°å½¢æ ¼å­ï¼ˆä¸­é–“æ˜¯ç‰†ï¼‰ï¼Œå¾å·¦ä¸Šè§’ (0,0) å‡ºç™¼ã€‚<strong style="color:var(--text)">å…ˆæ’­ DFS å†æ’­ BFS</strong>ï¼Œæ¯”è¼ƒèµ°è¨ªé †åºçš„å·®ç•°ï¼š
    </p>

    <div class="demo-wrapper">
      <div class="demo-top-label">Grid 3Ã—3 Â· ä¸­é–“(1,1) = 0ï¼ˆç‰†ï¼‰Â· èµ·é» (0,0)</div>

      <div id="grid-container">
        <div class="demo-grid-row">
          <div class="demo-cell land" data-r="0" data-c="0"><span class="coord">0,0</span><span class="val">1</span><span class="order-badge"></span></div>
          <div class="demo-cell land" data-r="0" data-c="1"><span class="coord">0,1</span><span class="val">1</span><span class="order-badge"></span></div>
          <div class="demo-cell land" data-r="0" data-c="2"><span class="coord">0,2</span><span class="val">1</span><span class="order-badge"></span></div>
        </div>
        <div class="demo-grid-row">
          <div class="demo-cell land" data-r="1" data-c="0"><span class="coord">1,0</span><span class="val">1</span><span class="order-badge"></span></div>
          <div class="demo-cell wall" data-r="1" data-c="1"><span class="coord">1,1</span><span class="val">0</span><span class="order-badge"></span></div>
          <div class="demo-cell land" data-r="1" data-c="2"><span class="coord">1,2</span><span class="val">1</span><span class="order-badge"></span></div>
        </div>
        <div class="demo-grid-row">
          <div class="demo-cell land" data-r="2" data-c="0"><span class="coord">2,0</span><span class="val">1</span><span class="order-badge"></span></div>
          <div class="demo-cell land" data-r="2" data-c="1"><span class="coord">2,1</span><span class="val">1</span><span class="order-badge"></span></div>
          <div class="demo-cell land" data-r="2" data-c="2"><span class="coord">2,2</span><span class="val">1</span><span class="order-badge"></span></div>
        </div>
      </div>

      <div class="demo-controls">
        <button class="demo-btn dfs-btn" onclick="runDFS()">ğŸƒ æ’­æ”¾ DFS</button>
        <button class="demo-btn bfs-btn" onclick="runBFS()">ğŸŒŠ æ’­æ”¾ BFS</button>
        <button class="demo-btn reset-btn" onclick="resetGrid()">â†º é‡ç½®</button>
      </div>

      <div class="step-info" id="step-info">
        <div class="step-counter" id="step-counter"></div>
        <div class="step-description" id="step-desc">é»æ“Šä¸Šæ–¹æŒ‰éˆ•é–‹å§‹å‹•ç•« ğŸ‘†</div>
        <div id="step-path-container"></div>
        <div class="bfs-legend" id="bfs-legend" style="display:none;">
          <div class="bfs-legend-item"><div class="bfs-legend-dot l0"></div>ç¬¬ 0 å±¤ï¼ˆèµ·é»ï¼‰</div>
          <div class="bfs-legend-item"><div class="bfs-legend-dot l1"></div>ç¬¬ 1 å±¤</div>
          <div class="bfs-legend-item"><div class="bfs-legend-dot l2"></div>ç¬¬ 2 å±¤</div>
          <div class="bfs-legend-item"><div class="bfs-legend-dot l3"></div>ç¬¬ 3 å±¤</div>
        </div>
      </div>
      <div id="demo-summary-container"></div>
    </div>
  </div>

  <!-- SECTION 5 -->
  <div class="section">
    <div class="section-label">When to Use</div>
    <h2><span class="emoji">ğŸ¯</span>ä»€éº¼æ™‚å€™é¸ DFSï¼Ÿä»€éº¼æ™‚å€™é¸ BFSï¼Ÿ</h2>
    <div class="use-grid">
      <div class="use-card for-dfs">
        <h4>ğŸŸ  DFS é©åˆ</h4>
        <div class="use-item"><div class="dot"></div><div>åªæƒ³<strong style="color:var(--text)">æŠŠä¸€æ•´å¡Šèµ°å®Œ</strong>ï¼ˆå³¶å¶¼ã€å€å¡Šã€æ˜¯å¦å­˜åœ¨è·¯å¾‘ï¼‰</div></div>
        <div class="use-item"><div class="dot"></div><div>éœ€è¦<strong style="color:var(--text)">å›æº¯ Backtracking</strong>ï¼ˆæ’åˆ—çµ„åˆã€è¿·å®®æ‰¾æ‰€æœ‰è·¯ï¼‰</div></div>
      </div>
      <div class="use-card for-bfs">
        <h4>ğŸ”µ BFS é©åˆ</h4>
        <div class="use-item"><div class="dot"></div><div><strong style="color:var(--text)">æœ€çŸ­æ­¥æ•¸ / æœ€å°‘å±¤æ•¸</strong>ï¼ˆè¿·å®®æœ€çŸ­è·¯ã€Word Ladderï¼‰</div></div>
        <div class="use-item"><div class="dot"></div><div>æƒ³è¦<strong style="color:var(--text)">æŒ‰è·é›¢ä¸€åœˆåœˆæ“´æ•£</strong>ï¼ˆRotting Orangesï¼‰</div></div>
      </div>
    </div>
    <div class="shortcut-box">ğŸš€ çœ‹åˆ°é¡Œç›®å‡ºç¾ã€Œ<strong>æœ€çŸ­</strong>ã€å…©å€‹å­— â†’ ç›´è¦ºå…ˆæƒ³ BFS</div>
  </div>

  <!-- SECTION: JAVA CODE -->
  <div class="section code-section">
    <div class="section-label">Java Implementation</div>
    <h2><span class="emoji">â˜•</span>Number of Islands â€” Java å¯¦ä½œ</h2>
    <p style="color:var(--text-dim);margin-bottom:16px;font-size:14px;">
      åŒä¸€é¡Œ <code>Number of Islands</code>ï¼Œåˆ†åˆ¥ç”¨ DFS å’Œ BFS å¯«ã€‚<strong style="color:var(--text)">çµæ§‹å®Œå…¨å°æ‡‰ä¸Šé¢çš„ Scan â†’ Traverse â†’ Mark æ¨¡æ¿</strong>ï¼Œé» Tab åˆ‡æ›æ¯”è¼ƒï¼š
    </p>

    <!-- Tabs -->
    <div class="code-tabs">
      <div class="code-tab active-dfs" id="tab-dfs" onclick="switchTab('dfs')">ğŸŸ  DFSï¼ˆéè¿´ï¼‰</div>
      <div class="code-tab" id="tab-bfs" onclick="switchTab('bfs')">ğŸ”µ BFSï¼ˆQueueï¼‰</div>
    </div>

    <!-- DFS Panel -->
    <div class="code-panel active dfs-active" id="panel-dfs">
      <div class="code-header">
        <div class="file-name"><div class="file-dot dfs-dot"></div>Solution_DFS.java</div>
        <div class="lang-badge java">JAVA</div>
      </div>
      <div class="code-body"><pre>
<span class="kw">class</span> <span class="tp">Solution</span> {

    <span class="kw">public int</span> <span class="fn">numIslands</span>(<span class="kw">char</span>[][] grid) {
        <span class="kw">int</span> islands <span class="op">=</span> <span class="nu">0</span>;

        <span class="cm">// ========== â‘  SCANï¼šæƒææ¯ä¸€æ ¼æ‰¾æ–°èµ·é» ==========</span>
        <span class="kw">for</span> (<span class="kw">int</span> r <span class="op">=</span> <span class="nu">0</span>; r <span class="op">&lt;</span> grid.length; r<span class="op">++</span>) {
            <span class="kw">for</span> (<span class="kw">int</span> c <span class="op">=</span> <span class="nu">0</span>; c <span class="op">&lt;</span> grid[<span class="nu">0</span>].length; c<span class="op">++</span>) {
                <span class="kw">if</span> (grid[r][c] <span class="op">==</span> <span class="st">'1'</span>) {   <span class="cm">// ç™¼ç¾æ–°å³¶å¶¼ï¼</span>
                    islands<span class="op">++</span>;
                    <span class="fn">dfs</span>(grid, r, c);       <span class="cm">// â‘¡ TRAVERSEï¼šæŠŠæ•´åº§å³¶èµ°å®Œ</span>
                }
            }
        }
        <span class="kw">return</span> islands;
    }

    <span class="cm">// ========== â‘¡ TRAVERSE + â‘¢ MARK ==========</span>
    <span class="kw">private void</span> <span class="fn">dfs</span>(<span class="kw">char</span>[][] grid, <span class="kw">int</span> r, <span class="kw">int</span> c) {
        <span class="cm">// åœæ­¢æ¢ä»¶ï¼šè¶Šç•Œ or ä¸æ˜¯é™¸åœ°</span>
        <span class="kw">if</span> (r <span class="op">&lt;</span> <span class="nu">0</span> <span class="op">||</span> r <span class="op">&gt;=</span> grid.length <span class="op">||</span>
            c <span class="op">&lt;</span> <span class="nu">0</span> <span class="op">||</span> c <span class="op">&gt;=</span> grid[<span class="nu">0</span>].length <span class="op">||</span>
            grid[r][c] <span class="op">!=</span> <span class="st">'1'</span>) {
            <span class="kw">return</span>;
        }

        grid[r][c] <span class="op">=</span> <span class="st">'0'</span>;  <span class="cm">// â‘¢ MARKï¼šæ²‰å³¶ï¼é˜²æ­¢é‡è¤‡èµ°</span>

        <span class="cm">// å¾€å››å€‹æ–¹å‘é‘½ï¼ˆéè¿´ = éš±å½¢ Stackï¼‰</span>
        <span class="fn">dfs</span>(grid, r <span class="op">-</span> <span class="nu">1</span>, c);  <span class="cm">// â†‘ ä¸Š</span>
        <span class="fn">dfs</span>(grid, r <span class="op">+</span> <span class="nu">1</span>, c);  <span class="cm">// â†“ ä¸‹</span>
        <span class="fn">dfs</span>(grid, r, c <span class="op">-</span> <span class="nu">1</span>);  <span class="cm">// â† å·¦</span>
        <span class="fn">dfs</span>(grid, r, c <span class="op">+</span> <span class="nu">1</span>);  <span class="cm">// â†’ å³</span>
    }
}</pre>
      </div>
      <div class="code-note">
        <strong class="dfs-n">ğŸŸ  DFS é‡é»ï¼š</strong>éè¿´æœ¬èº«å°±æ˜¯ Stackã€‚æ¯æ¬¡å‘¼å« <code>dfs()</code> å°±æ˜¯ pushï¼Œreturn å°±æ˜¯ popã€‚<br>
        Mark æ”¾åœ¨ã€Œé€²å…¥æ™‚ã€â€” é€²ä¾†ç¬¬ä¸€ä»¶äº‹å°± <code>grid[r][c] = '0'</code>ï¼Œç¢ºä¿ä¸æœƒé‡èµ°ã€‚
      </div>
    </div>

    <!-- BFS Panel -->
    <div class="code-panel" id="panel-bfs">
      <div class="code-header">
        <div class="file-name"><div class="file-dot bfs-dot"></div>Solution_BFS.java</div>
        <div class="lang-badge java">JAVA</div>
      </div>
      <div class="code-body"><pre>
<span class="kw">class</span> <span class="tp">Solution</span> {

    <span class="kw">private static final int</span>[][] <span class="tp">DIRS</span> <span class="op">=</span> {{<span class="op">-</span><span class="nu">1</span>,<span class="nu">0</span>},{<span class="nu">1</span>,<span class="nu">0</span>},{<span class="nu">0</span>,<span class="op">-</span><span class="nu">1</span>},{<span class="nu">0</span>,<span class="nu">1</span>}};

    <span class="kw">public int</span> <span class="fn">numIslands</span>(<span class="kw">char</span>[][] grid) {
        <span class="kw">int</span> islands <span class="op">=</span> <span class="nu">0</span>;

        <span class="cm">// ========== â‘  SCANï¼šæƒææ¯ä¸€æ ¼æ‰¾æ–°èµ·é» ==========</span>
        <span class="kw">for</span> (<span class="kw">int</span> r <span class="op">=</span> <span class="nu">0</span>; r <span class="op">&lt;</span> grid.length; r<span class="op">++</span>) {
            <span class="kw">for</span> (<span class="kw">int</span> c <span class="op">=</span> <span class="nu">0</span>; c <span class="op">&lt;</span> grid[<span class="nu">0</span>].length; c<span class="op">++</span>) {
                <span class="kw">if</span> (grid[r][c] <span class="op">==</span> <span class="st">'1'</span>) {   <span class="cm">// ç™¼ç¾æ–°å³¶å¶¼ï¼</span>
                    islands<span class="op">++</span>;
                    <span class="fn">bfs</span>(grid, r, c);       <span class="cm">// â‘¡ TRAVERSEï¼šæŠŠæ•´åº§å³¶èµ°å®Œ</span>
                }
            }
        }
        <span class="kw">return</span> islands;
    }

    <span class="cm">// ========== â‘¡ TRAVERSE + â‘¢ MARK ==========</span>
    <span class="kw">private void</span> <span class="fn">bfs</span>(<span class="kw">char</span>[][] grid, <span class="kw">int</span> r, <span class="kw">int</span> c) {
        <span class="tp">Queue</span><span class="op">&lt;</span><span class="kw">int</span>[]<span class="op">&gt;</span> queue <span class="op">=</span> <span class="kw">new</span> <span class="tp">LinkedList</span><span class="op">&lt;&gt;</span>();
        queue.<span class="fn">offer</span>(<span class="kw">new int</span>[]{r, c});
        grid[r][c] <span class="op">=</span> <span class="st">'0'</span>;  <span class="cm">// â‘¢ MARKï¼šå…¥éšŠæ™‚å°±æ¨™è¨˜ï¼ï¼ˆä¸æ˜¯å‡ºéšŠæ™‚ï¼‰</span>

        <span class="kw">while</span> (<span class="op">!</span>queue.<span class="fn">isEmpty</span>()) {
            <span class="kw">int</span>[] cur <span class="op">=</span> queue.<span class="fn">poll</span>();

            <span class="kw">for</span> (<span class="kw">int</span>[] d : <span class="tp">DIRS</span>) {
                <span class="kw">int</span> nr <span class="op">=</span> cur[<span class="nu">0</span>] <span class="op">+</span> d[<span class="nu">0</span>];
                <span class="kw">int</span> nc <span class="op">=</span> cur[<span class="nu">1</span>] <span class="op">+</span> d[<span class="nu">1</span>];

                <span class="cm">// åœæ­¢æ¢ä»¶ï¼šè¶Šç•Œ or ä¸æ˜¯é™¸åœ°</span>
                <span class="kw">if</span> (nr <span class="op">&lt;</span> <span class="nu">0</span> <span class="op">||</span> nr <span class="op">&gt;=</span> grid.length <span class="op">||</span>
                    nc <span class="op">&lt;</span> <span class="nu">0</span> <span class="op">||</span> nc <span class="op">&gt;=</span> grid[<span class="nu">0</span>].length <span class="op">||</span>
                    grid[nr][nc] <span class="op">!=</span> <span class="st">'1'</span>) {
                    <span class="kw">continue</span>;
                }

                grid[nr][nc] <span class="op">=</span> <span class="st">'0'</span>;  <span class="cm">// â‘¢ MARKï¼šå…¥éšŠæ™‚æ¨™è¨˜ï¼</span>
                queue.<span class="fn">offer</span>(<span class="kw">new int</span>[]{nr, nc});
            }
        }
    }
}</pre>
      </div>
      <div class="code-note">
        <strong class="bfs-n">ğŸ”µ BFS é‡é»ï¼š</strong>æŠŠ Stack æ›æˆ <code>Queue</code>ï¼Œå…¶ä»–å®Œå…¨ä¸€æ¨£ï¼<br>
        <span class="an" style="color:var(--accent-red);font-weight:600;">âš ï¸ visited å¿…é ˆåœ¨ã€Œå…¥éšŠæ™‚ã€æ¨™è¨˜</span>ï¼Œä¸æ˜¯å‡ºéšŠæ™‚ï¼å¦å‰‡åŒä¸€å€‹æ ¼å­æœƒè¢«å¤šæ¬¡åŠ å…¥ queue â†’ æµªè²»æ™‚é–“ç”šè‡³ TLEã€‚
      </div>
    </div>

    <!-- Side by side comparison -->
    <div style="margin-top:20px;display:grid;grid-template-columns:1fr 1fr;gap:14px;">
      <div style="background:var(--surface);border:1px solid rgba(251,146,60,0.2);border-radius:12px;padding:18px;">
        <div style="font-family:'JetBrains Mono',monospace;font-size:14px;color:var(--accent-orange);font-weight:700;margin-bottom:10px;">ğŸŸ  DFS çµæ§‹</div>
        <div style="font-size:13px;color:var(--text-dim);line-height:1.8;">
          <div>â‘  <strong style="color:var(--text)">Scan</strong>ï¼šé›™å±¤ for æƒæ ¼å­</div>
          <div>â‘¡ <strong style="color:var(--text)">Traverse</strong>ï¼šéè¿´ï¼ˆéš±å½¢ Stackï¼‰</div>
          <div>â‘¢ <strong style="color:var(--text)">Mark</strong>ï¼šé€²å…¥å‡½å¼æ™‚ <code>= '0'</code></div>
          <div style="margin-top:6px;color:var(--accent-orange);">å®¹å™¨ï¼š<strong>éè¿´ Call Stack</strong></div>
        </div>
      </div>
      <div style="background:var(--surface);border:1px solid rgba(34,211,238,0.2);border-radius:12px;padding:18px;">
        <div style="font-family:'JetBrains Mono',monospace;font-size:14px;color:var(--accent-cyan);font-weight:700;margin-bottom:10px;">ğŸ”µ BFS çµæ§‹</div>
        <div style="font-size:13px;color:var(--text-dim);line-height:1.8;">
          <div>â‘  <strong style="color:var(--text)">Scan</strong>ï¼šé›™å±¤ for æƒæ ¼å­</div>
          <div>â‘¡ <strong style="color:var(--text)">Traverse</strong>ï¼šQueue + while loop</div>
          <div>â‘¢ <strong style="color:var(--text)">Mark</strong>ï¼šå…¥éšŠæ™‚ <code>= '0'</code></div>
          <div style="margin-top:6px;color:var(--accent-cyan);">å®¹å™¨ï¼š<strong>Queueï¼ˆLinkedListï¼‰</strong></div>
        </div>
      </div>
    </div>

    <div style="margin-top:14px;text-align:center;padding:14px 20px;background:rgba(52,211,153,0.06);border:1px solid rgba(52,211,153,0.2);border-radius:10px;font-size:14px;color:var(--accent-green);font-weight:500;">
      âœ… çœ‹åˆ°äº†å—ï¼Ÿâ‘  Scan å®Œå…¨ä¸€æ¨£ã€â‘¢ Mark å®Œå…¨ä¸€æ¨£ï¼Œåªæœ‰ â‘¡ Traverse çš„å®¹å™¨ä¸åŒï¼
    </div>
  </div>

  <!-- INSIGHT -->
  <div class="insight-box">
    <h3>ğŸ’¡ ä½ æ²’èæœƒè²«é€šçš„æ ¸å¿ƒåŸå› </h3>
    <div class="insight-wrong"><span class="x">âœ—</span> æŠŠ DFS / BFS ç•¶æˆã€Œå…©ç¨®ä¸åŒé¡Œå‹çš„è§£æ³•ã€</div>
    <div class="insight-right"><span class="check">âœ“</span> æ‡‰è©²æŠŠå®ƒç•¶æˆã€ŒåŒä¸€å€‹ traversal å¼•æ“ï¼Œæ›å®¹å™¨è€Œå·²ã€</div>
    <div class="engine-text">ä½ åªè¦æŠŠã€Œå¼•æ“ã€å›ºå®šï¼Œé¡Œç›®åªæ˜¯æ›ï¼š<strong>èµ·é»ä¾†æº</strong>ã€<strong>é„°å±…å®šç¾©</strong>ã€<strong>å…è¨±èµ°çš„æ¢ä»¶</strong>ã€<strong>éœ€è¦çš„ç­”æ¡ˆ</strong>ï¼ˆè¨ˆæ•¸ / æœ€çŸ­è·é›¢ / é¢ç© / é‚Šç•Œï¼‰</div>
  </div>

  <!-- SECTION 6 -->
  <div class="section">
    <div class="section-label">Mental Model</div>
    <h2><span class="emoji">ğŸ§ </span>è¶…é€šç”¨å¿ƒæ™ºæ¨¡æ¿ â€” æ‹¿åˆ°é¡Œç›®å…ˆå›ç­” 4 å¥</h2>
    <div class="mental-grid">
      <div class="mental-card"><div class="mental-num">1</div><div><div class="q">Node æ˜¯ä»€éº¼ï¼Ÿ</div><div class="hint">æ ¼å­ï¼ŸåŸå¸‚ï¼Ÿå­—ä¸²ï¼Ÿ</div></div></div>
      <div class="mental-card"><div class="mental-num">2</div><div><div class="q">Edge / Neighbor æ˜¯ä»€éº¼ï¼Ÿ</div><div class="hint">ä¸Šä¸‹å·¦å³ï¼Ÿ<code>adj list</code>ï¼Ÿè½‰æ›è¦å‰‡ï¼Ÿ</div></div></div>
      <div class="mental-card"><div class="mental-num">3</div><div><div class="q">Visited / Mark æ€éº¼åšï¼Ÿ</div><div class="hint"><code>boolean[][]</code>ï¼Ÿæ”¹å€¼ï¼Ÿ<code>Set</code>ï¼Ÿ</div></div></div>
      <div class="mental-card"><div class="mental-num">4</div><div><div class="q">æˆ‘è¦çš„ç­”æ¡ˆæ˜¯ä»€éº¼ï¼Ÿ</div><div class="hint">å­˜åœ¨ï¼Ÿæ•¸é‡ï¼Ÿæœ€å¤§ï¼Ÿæœ€çŸ­ï¼Ÿ</div></div></div>
    </div>
    <p style="text-align:center;margin-top:16px;font-size:14px;color:var(--text-dim);">å›ç­”å®Œé€™å››å¥ï¼Œä½ å°±çŸ¥é“è¦ç”¨ DFSã€BFSã€æˆ–å…©å€‹éƒ½è¡Œ ğŸ¯</p>
  </div>

  <!-- QUIZ -->
  <div class="quiz-section section">
    <div class="section-label">Quiz Time</div>
    <h2><span class="emoji">ğŸ“</span>é©—æ”¶ â€” å›ç­”ä»¥ä¸‹ä¸‰é¡Œ</h2>
    <div class="quiz-card"><div class="quiz-num">1</div><p><code>Number of Islands</code>ï¼šç”¨ DFS æˆ– BFS éƒ½è¡Œï¼Œç­”æ¡ˆè¦çš„æ˜¯ä»€éº¼é¡å‹ï¼Ÿ<br><span style="color:var(--text-dim);font-size:13px;">ï¼ˆå­˜åœ¨ / æ•¸é‡ / æœ€å¤§ / æœ€çŸ­ï¼‰</span></p></div>
    <div class="quiz-card"><div class="quiz-num">2</div><p>ã€Œè¿·å®®å¾ S èµ°åˆ° Eï¼Œæ±‚<strong style="color:var(--accent-cyan)">æœ€å°‘æ­¥æ•¸</strong>ã€ï¼šä½ æœƒé¸ DFS é‚„ BFSï¼Ÿç‚ºä»€éº¼ï¼Ÿ</p></div>
    <div class="quiz-card"><div class="quiz-num">3</div><p>åœ¨ BFS è£¡ï¼Œ<code>visited</code> æ‡‰è©²åœ¨ä»€éº¼æ™‚å€™æ¨™è¨˜ï¼Ÿ<br><span style="color:var(--text-dim);font-size:13px;">ï¼ˆå…¥éšŠæ™‚ vs å‡ºéšŠæ™‚ï¼‰ä½ é¸ä¸€å€‹ä¸¦èªªåŸå› </span></p></div>
  </div>

  <div class="footer">DFS / BFS çµ±ä¸€æ¡†æ¶åœ–è§£ Â· Built for Spyua</div>
</div>

<script>
const GRID = [[1,1,1],[1,0,1],[1,1,1]];
const ROWS = 3, COLS = 3;
// Directions: right, down, left, up
const DIRS = [[0,1],[1,0],[0,-1],[-1,0]];
const DIR_ARROWS = ['â†’','â†“','â†','â†‘'];

let animating = false;
let animTimer = null;

function getCell(r, c) {
  return document.querySelector(`.demo-cell[data-r="${r}"][data-c="${c}"]`);
}

function resetGrid() {
  if (animTimer) { clearTimeout(animTimer); animTimer = null; }
  animating = false;
  document.querySelectorAll('.demo-cell').forEach(cell => {
    const r = +cell.dataset.r, c = +cell.dataset.c;
    cell.className = 'demo-cell ' + (GRID[r][c] ? 'land' : 'wall');
    const badge = cell.querySelector('.order-badge');
    badge.className = 'order-badge';
    badge.textContent = '';
    badge.style.background = '';
    badge.style.color = '';
  });
  document.getElementById('step-counter').textContent = '';
  document.getElementById('step-desc').innerHTML = 'é»æ“Šä¸Šæ–¹æŒ‰éˆ•é–‹å§‹å‹•ç•« ğŸ‘†';
  document.getElementById('step-path-container').innerHTML = '';
  document.getElementById('bfs-legend').style.display = 'none';
  document.getElementById('demo-summary-container').innerHTML = '';
}

// ========== DFS ==========
function computeDFS() {
  const visited = Array.from({length:ROWS}, () => Array(COLS).fill(false));
  const steps = [];
  function dfs(r, c, order, arrow) {
    if (r<0||r>=ROWS||c<0||c>=COLS) return order;
    if (GRID[r][c]===0||visited[r][c]) return order;
    visited[r][c] = true;
    steps.push({r, c, order, arrow});
    order++;
    for (let i=0;i<4;i++) {
      order = dfs(r+DIRS[i][0], c+DIRS[i][1], order, DIR_ARROWS[i]);
    }
    return order;
  }
  dfs(0,0,1,'ğŸš©');
  return steps;
}

function runDFS() {
  if (animating) return;
  resetGrid();
  animating = true;
  const steps = computeDFS();
  let idx = 0;
  const pathParts = [];
  document.getElementById('bfs-legend').style.display = 'none';

  function tick() {
    if (idx >= steps.length) {
      document.querySelectorAll('.current-dfs').forEach(c => { c.classList.remove('current-dfs'); c.classList.add('visited-dfs'); });
      document.getElementById('step-counter').textContent = `âœ… DFS å®Œæˆ â€” å…± ${steps.length} æ­¥`;
      document.getElementById('step-desc').innerHTML = `<strong class="dfs-hl">ğŸ DFS åƒä¸€æ¢è›‡ï¼Œæ²¿é‚Šç·£ä¸€è·¯é‘½åˆ°åº•å†å›é ­</strong><br><span style="color:var(--text-dim);font-size:13px;">æ³¨æ„é †åºï¼šç¹äº†ä¸€æ•´åœˆå¤–ç’°ï¼</span>`;
      document.getElementById('demo-summary-container').innerHTML =
        `<div class="demo-summary dfs-summary">ğŸŸ  DFS è·¯å¾‘ï¼š${pathParts.join(' â†’ ')}<br><strong style="color:var(--accent-orange)">ç‰¹å¾µï¼šä¸€æ¢è·¯èµ°åˆ°é»‘ï¼Œæ’ç‰†æ‰å›é ­</strong></div>`;
      animating = false;
      return;
    }
    document.querySelectorAll('.current-dfs').forEach(c => { c.classList.remove('current-dfs'); c.classList.add('visited-dfs'); });
    const s = steps[idx];
    const cell = getCell(s.r, s.c);
    cell.className = 'demo-cell current-dfs';
    const badge = cell.querySelector('.order-badge');
    badge.textContent = s.order;
    badge.className = 'order-badge show';
    badge.style.background = 'var(--accent-orange)';
    badge.style.color = 'var(--bg)';
    pathParts.push(`(${s.r},${s.c})`);
    document.getElementById('step-counter').textContent = `Step ${s.order} / ${steps.length}`;
    document.getElementById('step-desc').innerHTML =
      `${s.arrow} èµ°åˆ° <strong class="dfs-hl">(${s.r},${s.c})</strong>` +
      (s.arrow==='ğŸš©'?' â€” èµ·é»å‡ºç™¼ï¼':' â€” ç¹¼çºŒå¾€æ·±è™•é‘½');
    document.getElementById('step-path-container').innerHTML =
      `<div class="step-path dfs-path">${pathParts.join(' â†’ ')}</div>`;
    idx++;
    animTimer = setTimeout(tick, 550);
  }
  tick();
}

// ========== BFS ==========
function computeBFS() {
  const visited = Array.from({length:ROWS}, () => Array(COLS).fill(false));
  const steps = [];
  const queue = [[0,0,0]]; // r, c, layer
  visited[0][0] = true;
  let order = 1;
  while (queue.length > 0) {
    const [r, c, layer] = queue.shift();
    steps.push({r, c, order, layer});
    order++;
    for (let i=0;i<4;i++) {
      const nr=r+DIRS[i][0], nc=c+DIRS[i][1];
      if (nr>=0&&nr<ROWS&&nc>=0&&nc<COLS&&GRID[nr][nc]===1&&!visited[nr][nc]) {
        visited[nr][nc] = true;
        queue.push([nr, nc, layer+1]);
      }
    }
  }
  return steps;
}

function runBFS() {
  if (animating) return;
  resetGrid();
  animating = true;
  const steps = computeBFS();
  let idx = 0;
  const pathParts = [];
  const layerColors = ['var(--accent-cyan)','var(--accent-blue)','var(--accent-purple)','var(--accent-pink)'];
  const layerNames = ['ç¬¬ 0 å±¤ï¼ˆèµ·é»ï¼‰','ç¬¬ 1 å±¤','ç¬¬ 2 å±¤','ç¬¬ 3 å±¤'];
  document.getElementById('bfs-legend').style.display = 'flex';

  function tick() {
    if (idx >= steps.length) {
      document.querySelectorAll('.current-bfs').forEach(c => c.classList.remove('current-bfs'));
      document.getElementById('step-counter').textContent = `âœ… BFS å®Œæˆ â€” å…± ${steps.length} æ­¥`;
      document.getElementById('step-desc').innerHTML = `<strong class="bfs-hl">ğŸŒŠ BFS åƒæ°´æ³¢ç´‹ï¼Œä¸€å±¤ä¸€å±¤å¾€å¤–æ“´æ•£</strong><br><span style="color:var(--text-dim);font-size:13px;">æ³¨æ„ï¼šåŒä¸€å±¤çš„é„°å±…å…¨éƒ¨è™•ç†å®Œï¼Œæ‰å¾€ä¸‹ä¸€å±¤ï¼é€™å°±æ˜¯ç‚ºä»€éº¼ BFS èƒ½æ‰¾æœ€çŸ­è·¯å¾‘ã€‚</span>`;
      document.getElementById('demo-summary-container').innerHTML =
        `<div class="demo-summary bfs-summary">ğŸ”µ BFS è·¯å¾‘ï¼š${pathParts.join(' â†’ ')}<br><strong style="color:var(--accent-cyan)">ç‰¹å¾µï¼šåŒå±¤å…ˆèµ°å®Œ â†’ æ‰€ä»¥ä¿è­‰æœ€çŸ­è·é›¢</strong></div>`;
      animating = false;
      return;
    }
    document.querySelectorAll('.current-bfs').forEach(c => c.classList.remove('current-bfs'));
    const s = steps[idx];
    const cell = getCell(s.r, s.c);
    cell.className = `demo-cell visited-bfs bfs-layer-${s.layer} current-bfs`;
    const badge = cell.querySelector('.order-badge');
    badge.textContent = s.order;
    badge.className = 'order-badge show';
    badge.style.background = layerColors[s.layer] || layerColors[3];
    badge.style.color = 'var(--bg)';
    pathParts.push(`(${s.r},${s.c})`);
    document.getElementById('step-counter').textContent = `Step ${s.order} / ${steps.length}ã€€Â·ã€€${layerNames[s.layer]}`;
    document.getElementById('step-desc').innerHTML =
      `ğŸŒŠ èµ°åˆ° <strong class="bfs-hl">(${s.r},${s.c})</strong> â€” ${layerNames[s.layer]}` +
      (s.layer===0?' èµ·é»å‡ºç™¼ï¼':' ï¼ˆå…ˆæŠŠåŒå±¤èµ°å®Œï¼‰');
    document.getElementById('step-path-container').innerHTML =
      `<div class="step-path bfs-path">${pathParts.join(' â†’ ')}</div>`;
    idx++;
    animTimer = setTimeout(tick, 550);
  }
  tick();
}
// ========== Code Tab Switch ==========
function switchTab(which) {
  const tabDfs = document.getElementById('tab-dfs');
  const tabBfs = document.getElementById('tab-bfs');
  const panelDfs = document.getElementById('panel-dfs');
  const panelBfs = document.getElementById('panel-bfs');

  if (which === 'dfs') {
    tabDfs.className = 'code-tab active-dfs';
    tabBfs.className = 'code-tab';
    panelDfs.className = 'code-panel active dfs-active';
    panelBfs.className = 'code-panel';
  } else {
    tabDfs.className = 'code-tab';
    tabBfs.className = 'code-tab active-bfs';
    panelDfs.className = 'code-panel';
    panelBfs.className = 'code-panel active bfs-active';
  }
}
</script>
</body>
</html>
