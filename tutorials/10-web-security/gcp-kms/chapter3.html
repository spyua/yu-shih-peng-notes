<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ch.3 å‹•æ‰‹å¯¦ä½œ â€” GCP KMS éå°ç¨±åŠ å¯†æ•™å­¸</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;600&family=Crimson+Pro:ital,wght@0,400;0,700;0,900;1,400&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #F6F3EE;
  --bg-warm: #EFEADF;
  --bg-card: #FFFFFF;
  --bg-dark: #16161D;
  --bg-code: #111118;
  --text: #2A2A35;
  --text-secondary: #5E5E6E;
  --text-muted: #9494A3;
  --accent: #D35233;
  --accent-hover: #B8432A;
  --accent-soft: #FADAD2;
  --teal: #1A9E8F;
  --teal-soft: #D0F0EA;
  --blue: #2563EB;
  --blue-soft: #DBEAFE;
  --gold: #C88B2E;
  --gold-soft: #FDF3DC;
  --border: #E0DCD4;
  --border-light: #EDEAE4;
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.04);
  --shadow: 0 2px 8px rgba(0,0,0,0.05), 0 1px 2px rgba(0,0,0,0.04);
  --shadow-lg: 0 8px 30px rgba(0,0,0,0.08), 0 2px 6px rgba(0,0,0,0.04);
  --radius: 14px;
  --radius-sm: 8px;
  --content-width: 760px;
}
* { margin:0; padding:0; box-sizing:border-box; }
html { scroll-behavior: smooth; }
body {
  font-family: 'Noto Sans TC', sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.85;
  font-size: 16px;
  -webkit-font-smoothing: antialiased;
}

/* ===== NAV ===== */
.topnav { position:sticky; top:0; z-index:100; background:rgba(246,243,238,0.85); backdrop-filter:blur(16px) saturate(1.4); border-bottom:1px solid var(--border); padding:0 24px; }
.topnav-inner { max-width:var(--content-width); margin:0 auto; display:flex; align-items:center; height:56px; gap:24px; }
.topnav-brand { font-weight:900; font-size:14px; color:var(--accent); letter-spacing:-0.02em; text-decoration:none; white-space:nowrap; }
.topnav-chapters { display:flex; gap:2px; flex:1; justify-content:center; }
.topnav-ch { padding:6px 16px; font-size:13px; font-weight:600; color:var(--text-muted); text-decoration:none; border-radius:100px; transition:all 0.15s; white-space:nowrap; }
.topnav-ch:hover { color:var(--text); background:var(--bg-warm); }
.topnav-ch.active { color:var(--accent); background:var(--accent-soft); }
.topnav-progress { display:flex; gap:6px; align-items:center; }
.topnav-dot { width:8px; height:8px; border-radius:50%; background:var(--border); }
.topnav-dot.filled { background:var(--accent); }
.topnav-dot.current { background:var(--accent); box-shadow:0 0 0 3px var(--accent-soft); }
@media (max-width:640px) { .topnav-chapters { display:none; } }

/* ===== HERO ===== */
.ch-hero { padding:72px 24px 56px; position:relative; overflow:hidden; }
.ch-hero::after { content:''; position:absolute; bottom:0; left:0; right:0; height:1px; background:var(--border); }
.ch-hero-inner { max-width:var(--content-width); margin:0 auto; }
.ch-number { font-family:'Crimson Pro',serif; font-size:80px; font-weight:900; color:var(--accent); line-height:1; opacity:0.12; position:absolute; top:30px; right:max(24px,calc((100% - var(--content-width))/2)); user-select:none; }
.ch-overline { font-size:12px; font-weight:700; text-transform:uppercase; letter-spacing:0.15em; color:var(--accent); margin-bottom:12px; }
.ch-title { font-family:'Crimson Pro',serif; font-size:clamp(2rem,4.5vw,2.8rem); font-weight:900; line-height:1.25; margin-bottom:14px; color:var(--bg-dark); }
.ch-desc { font-size:17px; color:var(--text-secondary); max-width:540px; }

/* ===== MAIN ===== */
.main { max-width:var(--content-width); margin:0 auto; padding:48px 24px 80px; }
.section { margin-bottom:72px; }
.section-anchor { scroll-margin-top:72px; }
h2 { font-family:'Crimson Pro',serif; font-size:26px; font-weight:900; color:var(--bg-dark); margin-bottom:8px; line-height:1.3; }
.section-rule { width:40px; height:3px; background:var(--accent); border-radius:2px; margin-bottom:20px; }
h3 { font-size:19px; font-weight:700; margin:40px 0 12px; color:var(--bg-dark); }
p { margin-bottom:16px; }
code { font-family:'JetBrains Mono',monospace; background:var(--bg-warm); padding:2px 7px; border-radius:5px; font-size:0.87em; color:var(--accent); font-weight:500; }

/* Callouts */
.callout { border-radius:var(--radius); padding:24px 24px 24px 64px; margin:28px 0; position:relative; font-size:15px; }
.callout::before { position:absolute; left:22px; top:22px; font-size:24px; }
.callout .callout-title { font-weight:700; font-size:14px; margin-bottom:6px; }
.callout p { margin-bottom:8px; }
.callout p:last-child { margin-bottom:0; }
.callout-analogy { background:var(--gold-soft); border:1px solid #ECD9A8; }
.callout-analogy::before { content:'ğŸ’¡'; }
.callout-analogy .callout-title { color:#8B6914; }
.callout-analogy p { color:#6B5420; }
.callout-warning { background:#FEF2F2; border:1px solid #FECACA; }
.callout-warning::before { content:'âš ï¸'; }
.callout-warning p { color:#991B1B; }
.callout-tip { background:var(--teal-soft); border:1px solid #A7E8D8; }
.callout-tip::before { content:'âœ…'; }
.callout-tip .callout-title { color:#065F46; }
.callout-tip p { color:#065F46; }

/* Tables */
.table-wrap { background:var(--bg-card); border:1px solid var(--border); border-radius:var(--radius); overflow:hidden; margin:28px 0; box-shadow:var(--shadow-sm); }
.table-wrap table { width:100%; border-collapse:collapse; font-size:14.5px; }
.table-wrap th { background:var(--bg-dark); color:#fff; padding:13px 18px; text-align:left; font-weight:600; font-size:13px; }
.table-wrap td { padding:13px 18px; border-bottom:1px solid var(--border-light); vertical-align:top; }
.table-wrap tr:last-child td { border-bottom:none; }
.table-wrap tr:hover td { background:#FDFCFA; }
.tag { display:inline-block; padding:2px 10px; border-radius:6px; font-size:12px; font-weight:600; }
.tag-green { background:#D1FAE5; color:#065F46; }
.tag-blue { background:#DBEAFE; color:#1E40AF; }

/* Code blocks */
.code-block { background:var(--bg-code); border-radius:12px; margin:24px 0; overflow:hidden; }
.code-header { display:flex; align-items:center; justify-content:space-between; padding:12px 20px; background:rgba(255,255,255,0.04); border-bottom:1px solid rgba(255,255,255,0.06); }
.code-header .code-lang { font-size:12px; font-weight:600; color:var(--teal); font-family:'JetBrains Mono',monospace; }
.code-header .copy-btn { background:rgba(255,255,255,0.08); border:1px solid rgba(255,255,255,0.1); color:rgba(255,255,255,0.5); padding:4px 12px; border-radius:6px; cursor:pointer; font-size:12px; font-family:'Noto Sans TC',sans-serif; transition:all 0.15s; }
.copy-btn:hover { background:rgba(255,255,255,0.14); color:#fff; }
.code-body { padding:20px; overflow-x:auto; }
.code-body pre { font-family:'JetBrains Mono',monospace; font-size:13px; line-height:1.75; color:#E2E8F0; white-space:pre; margin:0; }
.code-body .cm { color:#6B7280; }
.code-body .kw { color:#C084FC; }
.code-body .str { color:#34D399; }
.code-body .flag { color:#F59E0B; }
.code-body .var { color:#60A5FA; }

/* Tabs */
.tabs { display:flex; gap:4px; background:var(--bg-warm); border-radius:10px 10px 0 0; padding:6px 6px 0; }
.tab-btn { padding:10px 20px; border:none; background:transparent; color:var(--text-muted); font-size:13.5px; font-weight:600; cursor:pointer; border-radius:8px 8px 0 0; font-family:'Noto Sans TC',sans-serif; transition:all 0.15s; }
.tab-btn.active { background:var(--bg-card); color:var(--text); box-shadow:0 -2px 8px rgba(0,0,0,0.04); }
.tab-btn:hover:not(.active) { color:var(--text); }
.tab-panel { display:none; }
.tab-panel.active { display:block; }
.tab-content-area { background:var(--bg-card); border:1px solid var(--border); border-top:none; border-radius:0 0 var(--radius) var(--radius); padding:28px; }

/* Steps */
.steps { display:flex; flex-direction:column; gap:16px; margin:24px 0; }
.step { display:flex; gap:18px; padding:22px; background:var(--bg-card); border:1px solid var(--border); border-radius:var(--radius); transition:all 0.15s; }
.step:hover { border-color:var(--accent); box-shadow:var(--shadow); }
.step-num { width:40px; height:40px; background:var(--blue); color:#fff; border-radius:10px; display:flex; align-items:center; justify-content:center; font-weight:800; font-size:17px; flex-shrink:0; }
.step h4 { font-size:15.5px; font-weight:700; margin-bottom:4px; }
.step p { font-size:14.5px; color:var(--text-secondary); margin-bottom:0; }

/* FAQ */
.faq-list { display:flex; flex-direction:column; gap:8px; }
.faq-item { background:var(--bg-card); border:1px solid var(--border); border-radius:12px; overflow:hidden; transition:all 0.2s; }
.faq-item[open] { border-color:var(--accent); box-shadow:var(--shadow); }
.faq-item summary { padding:20px 24px; font-weight:700; font-size:15.5px; cursor:pointer; list-style:none; display:flex; align-items:center; gap:12px; transition:background 0.15s; }
.faq-item summary:hover { background:var(--bg); }
.faq-item summary::before { content:'+'; width:28px; height:28px; background:var(--bg); border-radius:8px; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:18px; color:var(--accent); flex-shrink:0; transition:all 0.2s; }
.faq-item[open] summary::before { content:'âˆ’'; background:var(--accent); color:#fff; }
.faq-item summary::-webkit-details-marker { display:none; }
.faq-answer { padding:0 24px 20px 64px; color:var(--text-secondary); font-size:15px; line-height:1.8; }
.faq-answer p { margin-bottom:0; color:var(--text-secondary); }

/* Chapter nav */
.ch-nav { display:flex; justify-content:space-between; align-items:stretch; gap:16px; padding-top:48px; border-top:1px solid var(--border); margin-top:72px; }
.ch-nav-link { display:flex; flex-direction:column; gap:4px; text-decoration:none; padding:20px 24px; border:1px solid var(--border); border-radius:var(--radius); background:var(--bg-card); transition:all 0.2s; flex:1; max-width:48%; }
.ch-nav-link:hover { border-color:var(--accent); box-shadow:var(--shadow); transform:translateY(-2px); }
.ch-nav-link.next { text-align:right; margin-left:auto; }
.ch-nav-label { font-size:12px; font-weight:600; text-transform:uppercase; letter-spacing:0.1em; color:var(--accent); }
.ch-nav-title { font-weight:700; font-size:15px; color:var(--text); }
.ch-nav-placeholder { flex:1; max-width:48%; }

/* Completion banner */
.complete-banner {
  background: linear-gradient(135deg, var(--teal-soft), #D1FAE5);
  border: 2px solid #6EE7B7;
  border-radius: var(--radius);
  padding: 36px;
  text-align: center;
  margin: 48px 0 0;
}
.complete-banner .cb-icon { font-size: 40px; margin-bottom: 12px; }
.complete-banner h3 { font-family: 'Crimson Pro', serif; font-size: 24px; font-weight: 900; color: #065F46; margin: 0 0 8px; }
.complete-banner p { color: #047857; margin-bottom: 0; font-size: 15px; }

.footer { text-align:center; padding:32px 24px; font-size:12.5px; color:var(--text-muted); border-top:1px solid var(--border); max-width:var(--content-width); margin:0 auto; }

.fade-in { opacity:0; transform:translateY(24px); animation:fadeUp 0.5s ease forwards; }
.fade-in:nth-child(2) { animation-delay:0.08s; }
.fade-in:nth-child(3) { animation-delay:0.14s; }
@keyframes fadeUp { to { opacity:1; transform:translateY(0); } }

@media (max-width:640px) {
  .ch-nav { flex-direction:column; }
  .ch-nav-link, .ch-nav-placeholder { max-width:100%; }
  .ch-number { display:none; }
  .step { flex-direction:column; gap:10px; }
}
</style>
</head>
<body>

<nav class="topnav">
  <div class="topnav-inner">
    <a class="topnav-brand" href="../../../index.html">â† è¿”å›é¦–é </a>
    <div class="topnav-chapters">
      <a class="topnav-ch" href="chapter1.html">Ch.1 åŸºç¤è§€å¿µ</a>
      <a class="topnav-ch" href="chapter2.html">Ch.2 æ¶æ§‹èˆ‡æµç¨‹</a>
      <a class="topnav-ch active" href="chapter3.html">Ch.3 å‹•æ‰‹å¯¦ä½œ</a>
      <a class="topnav-ch" href="chapter4.html">Ch.4 ç¨‹å¼å¯¦ä½œ</a>
    </div>
    <div class="topnav-progress">
      <div class="topnav-dot filled"></div>
      <div class="topnav-dot filled"></div>
      <div class="topnav-dot current"></div>
      <div class="topnav-dot"></div>
    </div>
  </div>
</nav>

<header class="ch-hero">
  <div class="ch-number">03</div>
  <div class="ch-hero-inner">
    <div class="ch-overline">Chapter 3 of 4</div>
    <h1 class="ch-title">å‹•æ‰‹å¯¦ä½œ</h1>
    <p class="ch-desc">å‰å…©ç« ææ‡‚è§€å¿µå¾Œï¼Œç¾åœ¨ä¾†å¯¦éš›æ“ä½œã€‚ç”¨ gcloud CLI æˆ– GCP Console å»ºç½®é‡‘é‘°ï¼Œè¨­å®šæ¬Šé™ï¼Œä»¥åŠå¸¸è¦‹å•é¡Œæ’è§£ã€‚</p>
  </div>
</header>

<main class="main">

  <!-- Section: Create Key -->
  <section class="section fade-in" id="create-key">
    <h2 class="section-anchor">Step 1ï¼šå»ºç«‹é‡‘é‘°</h2>
    <div class="section-rule"></div>

    <div class="tabs">
      <button class="tab-btn active" onclick="switchTab(event,'tab-cli')">gcloud CLI</button>
      <button class="tab-btn" onclick="switchTab(event,'tab-console')">GCP Console ç¶²é </button>
    </div>
    <div class="tab-content-area">
      <!-- CLI Tab -->
      <div class="tab-panel active" id="tab-cli">
        <div class="code-block" style="margin-top:0">
          <div class="code-header">
            <span class="code-lang">bash</span>
            <button class="copy-btn" onclick="copyCode(this)">è¤‡è£½</button>
          </div>
          <div class="code-body">
<pre><span class="cm"># 1. å»ºç«‹ Key Ringï¼ˆé‡‘é‘°ç’°ï¼‰</span>
gcloud kms keyrings create <span class="var">my-keyring</span> \
  <span class="flag">--location</span>=<span class="str">asia-east1</span>

<span class="cm"># 2. å»ºç«‹éå°ç¨±åŠ å¯†é‡‘é‘°</span>
gcloud kms keys create <span class="var">id-encrypt-key</span> \
  <span class="flag">--keyring</span>=<span class="str">my-keyring</span> \
  <span class="flag">--location</span>=<span class="str">asia-east1</span> \
  <span class="flag">--purpose</span>=<span class="str">asymmetric-encryption</span> \
  <span class="flag">--default-algorithm</span>=<span class="str">rsa-decrypt-oaep-4096-sha256</span> \
  <span class="flag">--protection-level</span>=<span class="str">hsm</span>

<span class="cm"># 3. åŒ¯å‡ºå…¬é‘°ï¼ˆé€™å€‹æª”æ¡ˆè¦çµ¦å» å•†ï¼‰</span>
gcloud kms keys versions get-public-key <span class="var">1</span> \
  <span class="flag">--key</span>=<span class="str">id-encrypt-key</span> \
  <span class="flag">--keyring</span>=<span class="str">my-keyring</span> \
  <span class="flag">--location</span>=<span class="str">asia-east1</span> \
  <span class="flag">--output-file</span>=<span class="str">public_key.pem</span>

<span class="cm"># 4. é©—è­‰å…¬é‘°å…§å®¹</span>
cat public_key.pem
<span class="cm"># æ‡‰è©²æœƒçœ‹åˆ° -----BEGIN PUBLIC KEY----- ... -----END PUBLIC KEY-----</span></pre>
          </div>
        </div>
      </div>

      <!-- Console Tab -->
      <div class="tab-panel" id="tab-console">
        <div class="steps" style="margin-top:0">
          <div class="step" style="border:none; box-shadow:none;">
            <div class="step-num">1</div>
            <div>
              <h4>é€²å…¥ Security â†’ Key Management</h4>
              <p>åœ¨ GCP Console å·¦å´é¸å–®æ‰¾åˆ° Securityï¼Œé»é€² Key Management</p>
            </div>
          </div>
          <div class="step" style="border:none; box-shadow:none;">
            <div class="step-num">2</div>
            <div>
              <h4>å»ºç«‹ Key Ring</h4>
              <p>é»ã€ŒCreate Key Ringã€ï¼Œåç¨±å¡« <code>my-keyring</code>ï¼Œä½ç½®é¸ <code>asia-east1</code>ï¼ˆå°ç£ï¼‰</p>
            </div>
          </div>
          <div class="step" style="border:none; box-shadow:none;">
            <div class="step-num">3</div>
            <div>
              <h4>å»ºç«‹ Key</h4>
              <p>Key name â†’ <code>id-encrypt-key</code><br>Purpose â†’ <strong>Asymmetric decrypt</strong><br>Algorithm â†’ <strong>4096 bit RSA - OAEP Padding - SHA256 Digest</strong><br>Protection level â†’ <strong>HSM</strong>ï¼ˆæ­£å¼ç’°å¢ƒï¼‰æˆ– SOFTWAREï¼ˆæ¸¬è©¦ï¼‰</p>
            </div>
          </div>
          <div class="step" style="border:none; box-shadow:none;">
            <div class="step-num">4</div>
            <div>
              <h4>å–å¾—å…¬é‘°</h4>
              <p>å»ºå¥½å¾Œé»é€² key â†’ é» version 1 â†’ å³ä¸Šè§’ã€Œâ‹¯ã€â†’ã€ŒGet public keyã€â†’ ä¸‹è¼‰ PEM æª”</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section: IAM -->
  <section class="section fade-in" id="iam">
    <h2 class="section-anchor">Step 2ï¼šè¨­å®š IAM æ¬Šé™</h2>
    <div class="section-rule"></div>
    <p>æˆ‘æ–¹çš„ Service Account éœ€è¦å…©å€‹è§’è‰²ï¼Œä¸å¤šä¸å°‘ï¼š</p>

    <div class="table-wrap">
      <table>
        <thead><tr><th>IAM Role</th><th>ä½œç”¨</th><th>èª°éœ€è¦</th></tr></thead>
        <tbody>
          <tr>
            <td><code>cloudkms.publicKeyViewer</code></td>
            <td>å¯ä»¥è®€å–å…¬é‘°</td>
            <td>æˆ‘æ–¹çš„æœå‹™å¸³è™Ÿ</td>
          </tr>
          <tr>
            <td><code>cloudkms.cryptoKeyDecrypter</code></td>
            <td>å¯ä»¥å‘¼å«è§£å¯† API</td>
            <td>æˆ‘æ–¹çš„æœå‹™å¸³è™Ÿ</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="code-block">
      <div class="code-header">
        <span class="code-lang">bash</span>
        <button class="copy-btn" onclick="copyCode(this)">è¤‡è£½</button>
      </div>
      <div class="code-body">
<pre><span class="cm"># çµ¦ã€Œçœ‹å…¬é‘°ã€çš„æ¬Šé™</span>
gcloud kms keys add-iam-policy-binding <span class="var">id-encrypt-key</span> \
  <span class="flag">--keyring</span>=<span class="str">my-keyring</span> \
  <span class="flag">--location</span>=<span class="str">asia-east1</span> \
  <span class="flag">--member</span>=<span class="str">serviceAccount:my-app@my-project.iam.gserviceaccount.com</span> \
  <span class="flag">--role</span>=<span class="str">roles/cloudkms.publicKeyViewer</span>

<span class="cm"># çµ¦ã€Œè§£å¯†ã€çš„æ¬Šé™</span>
gcloud kms keys add-iam-policy-binding <span class="var">id-encrypt-key</span> \
  <span class="flag">--keyring</span>=<span class="str">my-keyring</span> \
  <span class="flag">--location</span>=<span class="str">asia-east1</span> \
  <span class="flag">--member</span>=<span class="str">serviceAccount:my-app@my-project.iam.gserviceaccount.com</span> \
  <span class="flag">--role</span>=<span class="str">roles/cloudkms.cryptoKeyDecrypter</span></pre>
      </div>
    </div>

    <div class="callout callout-tip">
      <div class="callout-title">æœ€å°æ¬Šé™åŸå‰‡</div>
      <p>å» å•†<strong>ä¸éœ€è¦ä»»ä½• GCP IAM æ¬Šé™</strong>ï¼Œå› ç‚ºä»–å€‘åªç”¨å…¬é‘°åŠ å¯†ï¼Œå…¬é‘°æ˜¯å…¬é–‹çš„ã€‚åªæœ‰æˆ‘æ–¹æœå‹™å¸³è™Ÿéœ€è¦ <code>cryptoKeyDecrypter</code> ä¾†å‘¼å«è§£å¯† APIã€‚</p>
    </div>
  </section>

  <!-- Section: Parameters -->
  <section class="section fade-in" id="params">
    <h2 class="section-anchor">Step 3ï¼šåƒæ•¸ç™½è©±æ–‡è§£é‡‹</h2>
    <div class="section-rule"></div>
    <p>å»ºé‡‘é‘°æ™‚é‚£äº›åƒæ•¸åˆ°åº•åœ¨è¨­ä»€éº¼ï¼Ÿ</p>

    <div class="table-wrap">
      <table>
        <thead><tr><th style="width:25%">åƒæ•¸</th><th style="width:30%">æˆ‘å€‘çš„å€¼</th><th style="width:45%">ç™½è©±æ–‡</th></tr></thead>
        <tbody>
          <tr>
            <td><code>purpose</code></td>
            <td><span class="tag tag-blue">ASYMMETRIC_DECRYPT</span></td>
            <td>é€™æŠŠé‡‘é‘°çš„ç”¨é€”æ˜¯ã€Œéå°ç¨±è§£å¯†ã€â€” æˆ‘æ–¹æ”¶å¯†æ–‡è¦è§£é–‹</td>
          </tr>
          <tr>
            <td><code>algorithm</code></td>
            <td>RSA_DECRYPT_OAEP<br>_4096_SHA256</td>
            <td><strong>RSA</strong> = æ¼”ç®—æ³•<br><strong>4096</strong> = é‡‘é‘°é•·åº¦ï¼ˆè¶Šé•·è¶Šå®‰å…¨ï¼‰<br><strong>OAEP + SHA256</strong> = å®‰å…¨çš„å¡«å……æ–¹å¼</td>
          </tr>
          <tr>
            <td><code>protection-level</code></td>
            <td><span class="tag tag-green">HSM</span></td>
            <td>é‡‘é‘°å­˜åœ¨ç¡¬é«”å®‰å…¨æ¨¡çµ„ï¼ˆé˜²ç‰©ç†æ”»æ“Šï¼‰ã€‚æ¸¬è©¦ç’°å¢ƒç”¨ SOFTWARE æ¯”è¼ƒä¾¿å®œ</td>
          </tr>
          <tr>
            <td><code>location</code></td>
            <td>asia-east1</td>
            <td>å°ç£å½°åŒ–æ©Ÿæˆ¿ã€‚è³‡æ–™ä¸å‡ºåœ‹ï¼Œå‘¼å«å»¶é²æœ€ä½</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="callout callout-analogy">
      <div class="callout-title">RSA 4096 æœ‰å¤šå®‰å…¨ï¼Ÿ</div>
      <p>ä»¥ç›®å‰æœ€å¼·çš„è¶…ç´šé›»è…¦ï¼Œæš´åŠ›ç ´è§£ä¸€æŠŠ RSA-4096 é‡‘é‘°éœ€è¦çš„æ™‚é–“é è¶…éå®‡å®™çš„å¹´é½¡ã€‚ç°¡å–®èªªï¼šåœ¨é‡å­é›»è…¦æ™®åŠå‰ï¼Œé€™å€‹é•·åº¦çµ•å°å¤ ç”¨ã€‚</p>
    </div>
  </section>

  <!-- Section: FAQ -->
  <section class="section fade-in" id="faq">
    <h2 class="section-anchor">å¸¸è¦‹å•é¡Œ FAQ</h2>
    <div class="section-rule"></div>

    <div class="faq-list">
      <details class="faq-item">
        <summary>å…¬é‘°å¤–æ´©äº†æ€éº¼è¾¦ï¼Ÿ</summary>
        <div class="faq-answer">
          <p><strong>å®Œå…¨ä¸ç”¨æ“”å¿ƒã€‚</strong>å…¬é‘°æœ¬ä¾†å°±æ˜¯è¨­è¨ˆæˆå¯ä»¥å…¬é–‹çš„ã€‚å°±åƒä¿¡ç®±çš„æŠ•ä¿¡å£ï¼Œä»»ä½•äººéƒ½èƒ½æŠ•ä¿¡ï¼Œä½†åªæœ‰ä½ æœ‰é‘°åŒ™é–‹ä¿¡ç®±ã€‚å¤–æ´©å…¬é‘°ä¸æœƒè®“åˆ¥äººè§£å¯†ä»»ä½•æ±è¥¿ã€‚</p>
        </div>
      </details>
      <details class="faq-item">
        <summary>ç§é‘°æœ‰å¯èƒ½å¤–æ´©å—ï¼Ÿ</summary>
        <div class="faq-answer">
          <p>ç”¨ KMS çš„å¥½è™•å°±æ˜¯ï¼š<strong>ç§é‘°æ ¹æœ¬ä¸æœƒé›¢é–‹ KMS</strong>ï¼Œä½ ä¹Ÿä¸‹è¼‰ä¸äº†ã€‚æ‰€ä»¥ä¸å­˜åœ¨ã€Œç§é‘°å¤–æ´©ã€çš„å•é¡Œã€‚å¦‚æœæœ‰äººå–å¾—äº† GCP IAM æ¬Šé™ï¼Œé‚£æ˜¯ IAM å±¤çš„å•é¡Œï¼ˆè¦é– IAM + è¨­ MFAï¼‰ã€‚</p>
        </div>
      </details>
      <details class="faq-item">
        <summary>é‡‘é‘°éœ€è¦å®šæœŸæ›´æ›ï¼ˆè¼ªæ›¿ï¼‰å—ï¼Ÿ</summary>
        <div class="faq-answer">
          <p>å»ºè­°å®šæœŸè¼ªæ›¿ã€‚åšæ³•ï¼šåœ¨åŒä¸€å€‹ Crypto Key ä¸‹å»ºç«‹æ–°çš„ versionï¼ˆv2ï¼‰ï¼Œç„¶å¾ŒæŠŠæ–°å…¬é‘°çµ¦å» å•†ã€‚èˆŠçš„ v1 å…ˆä¸åœç”¨ï¼Œç­‰ç¢ºèªæ‰€æœ‰èˆŠå¯†æ–‡éƒ½è™•ç†å®Œå† disableã€‚</p>
        </div>
      </details>
      <details class="faq-item">
        <summary>KMS æ¯æ¬¡å‘¼å«éƒ½è¦éŒ¢å—ï¼Ÿ</summary>
        <div class="faq-answer">
          <p>æ˜¯çš„ï¼Œæ¯æ¬¡åŠ è§£å¯† API å‘¼å«ç´„ $0.03 / 10,000 æ¬¡ã€‚é‡‘é‘°æœ¬èº«ä¹Ÿæœ‰æœˆè²»ï¼ˆHSM è¼ƒè²´ï¼‰ã€‚æ‰€ä»¥æˆ‘å€‘ç”¨ <strong>Caffeine Cache</strong> é™ä½å‘¼å«æ¬¡æ•¸ï¼šå¿«å–å…¬é‘°ï¼ˆ24hrï¼‰å’Œè§£å¯†çµæœï¼ˆ1hrï¼Œè¦–å®‰å…¨éœ€æ±‚èª¿æ•´ï¼‰ã€‚</p>
        </div>
      </details>
      <details class="faq-item">
        <summary>OAEP è·Ÿ PKCS1 å·®åœ¨å“ªï¼Ÿç‚ºä»€éº¼é¸ OAEPï¼Ÿ</summary>
        <div class="faq-answer">
          <p>å…©ç¨®éƒ½æ˜¯ RSA åŠ å¯†çš„ã€Œå¡«å……æ–¹å¼ã€ã€‚PKCS#1 v1.5 æ˜¯èˆŠç‰ˆï¼Œæœ‰å·²çŸ¥çš„ padding oracle æ”»æ“Šå¼±é»ã€‚OAEP æ˜¯æ–°ç‰ˆï¼ŒæŠ—æ”»æ“Šæ€§æ›´å¼·ã€‚<strong>å» å•†åŠ å¯†æ™‚çš„ padding ä¸€å®šè¦è·Ÿ KMS è¨­å®šä¸€è‡´</strong>ï¼Œå¦å‰‡è§£å¯†å ±éŒ¯ã€‚</p>
        </div>
      </details>
      <details class="faq-item">
        <summary>èº«åˆ†è­‰å­—è™Ÿå¾ˆçŸ­ï¼Œç›´æ¥ç”¨ RSA åŠ å¯† OK å—ï¼Ÿ</summary>
        <div class="faq-answer">
          <p>å®Œå…¨ OKï¼RSA-4096 with OAEP-SHA256 çš„æ˜æ–‡ä¸Šé™ç´„ 446 bytesã€‚èº«åˆ†è­‰å­—è™Ÿæ‰ 10 å€‹å­—å…ƒï¼ˆ10 bytesï¼‰ï¼Œç¶½ç¶½æœ‰é¤˜ã€‚å¦‚æœæœªä¾†è¦åŠ å¯†å¤§è³‡æ–™ï¼ˆå¦‚æ•´ä»½æ–‡ä»¶ï¼‰ï¼Œå°±éœ€è¦æ”¹ç”¨ Hybrid Encryptionï¼ˆRSA + AES æ··åˆï¼‰ï¼Œä½†é‚£æ˜¯å¦ä¸€å€‹æ¶æ§‹äº†ã€‚</p>
        </div>
      </details>
      <details class="faq-item">
        <summary>è§£å¯†å¤±æ•—æœ€å¸¸è¦‹çš„åŸå› ï¼Ÿ</summary>
        <div class="faq-answer">
          <p>90% æ˜¯<strong>å» å•†ç«¯ padding ç”¨éŒ¯</strong>ã€‚å¿…é ˆæ˜¯ <code>RSA/ECB/OAEPWithSHA-256AndMGF1Padding</code>ã€‚å¸¸è¦‹éŒ¯èª¤åŒ…æ‹¬ï¼šç”¨äº† PKCS1Paddingã€SHA-1 instead of SHA-256ã€æˆ–æ˜¯åŠ å¯†æ™‚æ²’ç”¨æˆ‘æ–¹æœ€æ–°ç‰ˆæœ¬çš„å…¬é‘°ã€‚</p>
        </div>
      </details>
      <details class="faq-item">
        <summary>å¯ä»¥ç”¨ KMS åšã€ŒåŠ å¯†ã€å—ï¼Ÿï¼ˆä¸æ˜¯è§£å¯†ï¼‰</summary>
        <div class="faq-answer">
          <p>éå°ç¨±é‡‘é‘°çš„åŠ å¯†ä¸éœ€è¦ KMS â€” ç›´æ¥ç”¨å…¬é‘°åœ¨æœ¬åœ°åŠ å¯†å³å¯ï¼ˆè·Ÿå» å•†ä¸€æ¨£ï¼‰ã€‚KMS ä¸»è¦è² è²¬ã€Œä¿ç®¡ç§é‘°ã€å’Œã€Œè§£å¯†ã€ã€‚å¦‚æœä½ è¦åšå°ç¨±åŠ å¯†ï¼ˆAESï¼‰ï¼ŒKMS æœ‰ <code>ENCRYPT_DECRYPT</code> purpose å¯ä»¥ç”¨ã€‚</p>
        </div>
      </details>
    </div>
  </section>

  <!-- Chapter Nav -->
  <nav class="ch-nav">
    <a class="ch-nav-link" href="chapter2.html">
      <span class="ch-nav-label">â† ä¸Šä¸€ç« </span>
      <span class="ch-nav-title">Ch.2 æ¶æ§‹èˆ‡æµç¨‹</span>
    </a>
    <a class="ch-nav-link next" href="chapter4.html">
      <span class="ch-nav-label">ä¸‹ä¸€ç«  â†’</span>
      <span class="ch-nav-title">Ch.4 ç¨‹å¼å¯¦ä½œ</span>
    </a>
  </nav>

</main>

<footer class="footer">GCP KMS éå°ç¨±åŠ å¯†æ•™å­¸ Â· åœ˜éšŠå…§éƒ¨å­¸ç¿’ç”¨</footer>

<script>
function switchTab(e, tabId) {
  const area = e.target.closest('.tabs').nextElementSibling;
  area.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
  e.target.closest('.tabs').querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  document.getElementById(tabId).classList.add('active');
  e.target.classList.add('active');
}

function copyCode(btn) {
  const code = btn.closest('.code-block').querySelector('pre').textContent;
  navigator.clipboard.writeText(code).then(() => {
    btn.textContent = 'âœ“ å·²è¤‡è£½';
    setTimeout(() => btn.textContent = 'è¤‡è£½', 1500);
  });
}
</script>
</body>
</html>
